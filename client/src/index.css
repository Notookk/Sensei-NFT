@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --color-background: hsl(240 10% 4%); /* #0b0b0d */
  --color-foreground: hsl(0 0% 96%); /* #f5f5f5 */
  
  --color-primary: hsl(3 100% 44%); /* #e10600 */
  --color-primary-foreground: hsl(0 0% 100%);
  
  --color-accent: hsl(3 100% 44%);
  --color-accent-foreground: hsl(0 0% 100%);

  --font-display: "Orbitron", sans-serif;
  --font-bebas: "Bebas Neue", sans-serif;
  --font-sans: "Inter", sans-serif;
  --font-jp: "Noto Sans JP", sans-serif;
}

@layer base {
  body {
    background-color: var(--color-background);
    color: var(--color-foreground);
    font-family: var(--font-sans);
    overflow-x: hidden;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-display);
  }
}

@layer utilities {
  .text-glow {
    text-shadow: 0 0 30px rgba(225, 6, 0, 0.6), 0 0 60px rgba(225, 6, 0, 0.3);
  }
  
  .text-glow-white {
    text-shadow: 0 0 20px rgba(255, 255, 255, 0.4);
  }

  .glass-card {
    background: rgba(10, 10, 12, 0.6);
    backdrop-filter: blur(50px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.08);
    box-shadow: 0 20px 40px rgba(0,0,0,0.4);
  }
  
  /* Smoked Cinematic Glassmorphism */
  .glass-card-blur {
    position: relative;
    /* Dark smoked glass tint */
    background: 
      linear-gradient(
        180deg,
        rgba(18, 18, 22, 0.92) 0%,
        rgba(12, 12, 16, 0.88) 40%,
        rgba(8, 8, 12, 0.9) 100%
      );
    /* Heavy backdrop blur - content melts behind */
    backdrop-filter: blur(120px) saturate(140%) brightness(0.9);
    -webkit-backdrop-filter: blur(120px) saturate(140%) brightness(0.9);
    /* Subtle border with top highlight */
    border: 1px solid rgba(255, 255, 255, 0.06);
    border-top: 1px solid rgba(255, 255, 255, 0.15);
    box-shadow: 
      /* Deep cinematic shadow */
      0 40px 80px -20px rgba(0, 0, 0, 0.9),
      0 25px 50px rgba(0, 0, 0, 0.7),
      /* Red ambient glow */
      0 0 80px rgba(225, 6, 0, 0.12),
      0 0 150px rgba(225, 6, 0, 0.06),
      /* Inner milky fog diffusion */
      inset 0 0 60px rgba(255, 255, 255, 0.02),
      inset 0 0 120px rgba(100, 100, 120, 0.03),
      /* Top edge glass reflection */
      inset 0 1px 0 rgba(255, 255, 255, 0.1),
      /* Bottom depth */
      inset 0 -2px 10px rgba(0, 0, 0, 0.4);
    overflow: hidden;
  }
  
  /* Soft internal fog layer */
  .glass-card-blur::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
      /* Milky top fade */
      linear-gradient(
        180deg,
        rgba(255, 255, 255, 0.04) 0%,
        rgba(180, 180, 200, 0.015) 20%,
        transparent 50%,
        rgba(0, 0, 0, 0.1) 100%
      ),
      /* Subtle red ambient from edges */
      radial-gradient(
        ellipse at 0% 50%,
        rgba(225, 6, 0, 0.03) 0%,
        transparent 50%
      ),
      radial-gradient(
        ellipse at 100% 50%,
        rgba(225, 6, 0, 0.02) 0%,
        transparent 50%
      );
    pointer-events: none;
    z-index: 1;
  }
  
  /* Very light grain texture */
  .glass-card-blur::after {
    content: '';
    position: absolute;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
    opacity: 0.035;
    pointer-events: none;
    z-index: 2;
    mix-blend-mode: overlay;
  }
  
  .glass-limited-drop {
    background: rgba(10, 10, 15, 0.6);
    backdrop-filter: blur(50px) saturate(160%);
    -webkit-backdrop-filter: blur(50px) saturate(160%);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-left: 2px solid #e10600;
    box-shadow: 
      0 20px 40px rgba(0,0,0,0.5),
      0 0 60px rgba(225, 6, 0, 0.1),
      inset 0 1px 0 rgba(255,255,255,0.08);
  }

  /* Apple-style Frosted Glass + Cyberpunk Neon */
  .glass-float-card {
    position: relative;
    background: 
      linear-gradient(135deg, 
        rgba(30, 30, 35, 0.85) 0%, 
        rgba(20, 20, 25, 0.75) 50%,
        rgba(15, 15, 20, 0.8) 100%
      );
    backdrop-filter: blur(80px) saturate(180%) brightness(1.1);
    -webkit-backdrop-filter: blur(80px) saturate(180%) brightness(1.1);
    border: 1px solid rgba(255, 255, 255, 0.15);
    border-top: 1px solid rgba(255, 255, 255, 0.25);
    border-radius: 20px;
    box-shadow: 
      /* Outer depth shadow */
      0 30px 60px -10px rgba(0, 0, 0, 0.8),
      0 18px 36px -18px rgba(0, 0, 0, 0.6),
      /* Red neon glow */
      0 0 60px rgba(225, 6, 0, 0.15),
      0 0 120px rgba(225, 6, 0, 0.08),
      /* Inner light - top edge highlight */
      inset 0 1px 1px rgba(255, 255, 255, 0.15),
      /* Inner shadow - bottom depth */
      inset 0 -2px 4px rgba(0, 0, 0, 0.3);
    overflow: hidden;
  }
  
  .glass-float-card::before {
    content: '';
    position: absolute;
    inset: 0;
    background: url('https://grainy-gradients.vercel.app/noise.svg');
    opacity: 0.04;
    pointer-events: none;
    border-radius: inherit;
    mix-blend-mode: overlay;
  }
  
  .glass-float-card::after {
    content: '';
    position: absolute;
    top: 0;
    left: 10%;
    right: 10%;
    height: 1px;
    background: linear-gradient(90deg, 
      transparent, 
      rgba(255, 255, 255, 0.4), 
      rgba(255, 255, 255, 0.6),
      rgba(255, 255, 255, 0.4),
      transparent
    );
    border-radius: 50%;
  }
  
  .glass-float-mini {
    position: relative;
    background: 
      linear-gradient(145deg, 
        rgba(35, 35, 40, 0.8) 0%, 
        rgba(20, 20, 25, 0.7) 100%
      );
    backdrop-filter: blur(60px) saturate(170%) brightness(1.05);
    -webkit-backdrop-filter: blur(60px) saturate(170%) brightness(1.05);
    border: 1px solid rgba(255, 255, 255, 0.12);
    border-top: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 16px;
    box-shadow: 
      0 20px 40px -10px rgba(0, 0, 0, 0.7),
      0 0 50px rgba(225, 6, 0, 0.1),
      0 0 100px rgba(225, 6, 0, 0.05),
      inset 0 1px 1px rgba(255, 255, 255, 0.12),
      inset 0 -1px 3px rgba(0, 0, 0, 0.25);
    overflow: hidden;
  }
  
  .glass-float-mini::before {
    content: '';
    position: absolute;
    inset: 0;
    background: url('https://grainy-gradients.vercel.app/noise.svg');
    opacity: 0.02;
    pointer-events: none;
  }
  
  /* Red glow pulse animation */
  @keyframes redPulse {
    0%, 100% { box-shadow: 0 0 20px rgba(225, 6, 0, 0.3); }
    50% { box-shadow: 0 0 40px rgba(225, 6, 0, 0.5); }
  }
  
  .glow-pulse {
    animation: redPulse 3s ease-in-out infinite;
  }
  
  /* Scanning line effect */
  @keyframes scanLine {
    0% { top: -2px; }
    100% { top: 100%; }
  }
  
  .scan-line::before {
    content: '';
    position: absolute;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent, rgba(225, 6, 0, 0.6), transparent);
    animation: scanLine 4s linear infinite;
    box-shadow: 0 0 10px rgba(225, 6, 0, 0.5);
  }
  
  .menu-glass {
    background: linear-gradient(
      135deg,
      rgba(40, 40, 60, 0.92) 0%,
      rgba(60, 60, 80, 0.96) 50%,
      rgba(80, 80, 100, 0.94) 100%
    );
    backdrop-filter: blur(80px) saturate(200%) brightness(1.15);
    -webkit-backdrop-filter: blur(80px) saturate(200%) brightness(1.15);
    border: 1px solid rgba(255, 255, 255, 0.18);
    border-top: 1px solid rgba(255, 255, 255, 0.28);
    border-radius: 14px;
    box-shadow: 
      0 30px 80px rgba(0,0,0,0.7),
      0 0 60px rgba(0, 0, 0, 0.5),
      0 0 40px rgba(225, 6, 0, 0.12),
      inset 0 1px 0 rgba(255,255,255,0.13),
      inset 0 0 30px rgba(0,0,0,0.3);
    position: relative;
    overflow: hidden;
  }
  
  .menu-glass::before {
    content: '';
    position: absolute;
    inset: 0;
    background: 
      radial-gradient(ellipse at 30% 10%, rgba(255, 255, 255, 0.08) 0%, transparent 40%),
      radial-gradient(ellipse at 70% 90%, rgba(225, 6, 0, 0.12) 0%, transparent 50%),
      linear-gradient(180deg, rgba(255,255,255,0.03) 0%, transparent 30%);
    pointer-events: none;
    z-index: 1;
  }
  
  .menu-glass::after {
    content: '';
    position: absolute;
    inset: 0;
    background: url('https://grainy-gradients.vercel.app/noise.svg');
    opacity: 0.08;
    mix-blend-mode: overlay;
    pointer-events: none;
  }

  /* Scanline Effect */
  .scanlines {
    background: linear-gradient(
      to bottom,
      rgba(255,255,255,0),
      rgba(255,255,255,0) 50%,
      rgba(0,0,0,0.2) 50%,
      rgba(0,0,0,0.2)
    );
    background-size: 100% 4px;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 50;
    opacity: 0.15;
  }
  
  /* CRT Flicker */
  .crt-flicker {
    animation: flicker 0.15s infinite;
  }
}

@keyframes flicker {
  0% { opacity: 0.97; }
  100% { opacity: 1; }
}

/* Glitch Effect */
.glitch-wrapper {
  position: relative;
}

.glitch-wrapper::before,
.glitch-wrapper::after {
  content: attr(data-text);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 0.8;
}

.glitch-wrapper::before {
  color: #0ff;
  z-index: -1;
  animation: glitch-anim-1 3s infinite linear alternate-reverse;
}

.glitch-wrapper::after {
  color: #f00;
  z-index: -2;
  animation: glitch-anim-2 2s infinite linear alternate-reverse;
}

@keyframes glitch-anim-1 {
  0% { clip-path: inset(20% 0 80% 0); transform: translate(-2px, 1px); }
  20% { clip-path: inset(60% 0 10% 0); transform: translate(2px, -1px); }
  40% { clip-path: inset(40% 0 50% 0); transform: translate(-2px, 2px); }
  60% { clip-path: inset(80% 0 5% 0); transform: translate(2px, -2px); }
  80% { clip-path: inset(10% 0 60% 0); transform: translate(-1px, 1px); }
  100% { clip-path: inset(30% 0 30% 0); transform: translate(1px, -1px); }
}

@keyframes glitch-anim-2 {
  0% { clip-path: inset(10% 0 60% 0); transform: translate(2px, 1px); }
  20% { clip-path: inset(80% 0 5% 0); transform: translate(-2px, -1px); }
  40% { clip-path: inset(30% 0 20% 0); transform: translate(2px, 2px); }
  60% { clip-path: inset(10% 0 80% 0); transform: translate(-2px, -2px); }
  80% { clip-path: inset(50% 0 30% 0); transform: translate(1px, 1px); }
  100% { clip-path: inset(20% 0 50% 0); transform: translate(-1px, -1px); }
}

/* Snowflake falling animation */
@keyframes snowfall {
  0% {
    top: -5%;
    opacity: 0;
    transform: translateX(0) rotate(0deg);
  }
  10% {
    opacity: 1;
  }
  25% {
    transform: translateX(15px) rotate(90deg);
  }
  50% {
    transform: translateX(-10px) rotate(180deg);
  }
  75% {
    transform: translateX(12px) rotate(270deg);
  }
  90% {
    opacity: 0.6;
  }
  100% {
    top: 105%;
    opacity: 0;
    transform: translateX(-5px) rotate(360deg);
  }
}

.flake-1 { animation: snowfall 12s ease-in-out infinite; }
.flake-2 { animation: snowfall 15s ease-in-out 1s infinite; }
.flake-3 { animation: snowfall 10s ease-in-out 3s infinite; }
.flake-4 { animation: snowfall 14s ease-in-out 0.5s infinite; }
.flake-5 { animation: snowfall 18s ease-in-out 5s infinite; }
.flake-6 { animation: snowfall 11s ease-in-out 2s infinite; }
.flake-7 { animation: snowfall 16s ease-in-out 4s infinite; }
.flake-8 { animation: snowfall 13s ease-in-out 1.5s infinite; }
.flake-9 { animation: snowfall 9s ease-in-out 6s infinite; }
.flake-10 { animation: snowfall 17s ease-in-out 2.5s infinite; }
.flake-11 { animation: snowfall 14s ease-in-out 3.5s infinite; }
.flake-12 { animation: snowfall 12s ease-in-out 4.5s infinite; }

/* Snowflake shapes */
.snowflake {
  position: absolute;
  color: #fff;
  text-shadow: 0 0 8px #fff, 0 0 15px rgba(255,255,255,0.8);
  user-select: none;
}

.snowflake-red {
  position: absolute;
  color: #e10600;
  text-shadow: 0 0 8px #e10600, 0 0 15px rgba(225,6,0,0.8);
  user-select: none;
}

@keyframes sakuraFall {
  from {
    left: -2%;
    opacity: 1;
  }
  to {
    left: 102%;
    opacity: 1;
  }
}

/* Fog Animation */
.fog-wrapper {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 5;
  overflow: hidden;
}

.fog-layer {
  position: absolute;
  top: 0;
  left: 0;
  width: 200%;
  height: 100%;
  background: url('https://raw.githubusercontent.com/danielstuart14/CSS_FOG_ANIMATION/master/img/fog1.png') repeat-x;
  background-size: 50% 100%;
  opacity: 0.2;
  animation: moveFog 60s linear infinite;
}

.fog-layer-2 {
  position: absolute;
  top: 0;
  left: 0;
  width: 200%;
  height: 100%;
  background: url('https://raw.githubusercontent.com/danielstuart14/CSS_FOG_ANIMATION/master/img/fog2.png') repeat-x;
  background-size: 50% 100%;
  opacity: 0.15;
  animation: moveFog 40s linear infinite reverse;
}

@keyframes moveFog {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

/* Audio Player Frozen Glass Effect */
.audio-player-glass {
  position: relative;
  background: 
    linear-gradient(135deg, 
      rgba(20, 20, 28, 0.85) 0%, 
      rgba(12, 12, 18, 0.75) 50%,
      rgba(8, 8, 14, 0.85) 100%
    );
  backdrop-filter: blur(80px) saturate(180%) brightness(1.05);
  -webkit-backdrop-filter: blur(80px) saturate(180%) brightness(1.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-top: 1px solid rgba(255, 255, 255, 0.2);
  box-shadow: 
    /* Outer depth shadow */
    0 20px 50px -10px rgba(0, 0, 0, 0.8),
    0 12px 30px -15px rgba(0, 0, 0, 0.6),
    /* Red neon glow */
    0 0 40px rgba(225, 6, 0, 0.15),
    0 0 80px rgba(225, 6, 0, 0.08),
    /* Inner light - top edge highlight */
    inset 0 1px 1px rgba(255, 255, 255, 0.12),
    /* Inner shadow - bottom depth */
    inset 0 -2px 4px rgba(0, 0, 0, 0.3);
}

/* Slim Audio Player */
.audio-player-slim {
  background: rgba(10, 10, 14, 0.7);
  backdrop-filter: blur(40px) saturate(150%);
  -webkit-backdrop-filter: blur(40px) saturate(150%);
  border: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow: 
    0 8px 24px rgba(0, 0, 0, 0.5),
    0 0 20px rgba(225, 6, 0, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.06);
}

.audio-player-glass::before {
  content: '';
  position: absolute;
  inset: 0;
  background: url('https://grainy-gradients.vercel.app/noise.svg');
  opacity: 0.03;
  pointer-events: none;
  border-radius: inherit;
  mix-blend-mode: overlay;
}

.audio-player-glass::after {
  content: '';
  position: absolute;
  top: 0;
  left: 10%;
  right: 10%;
  height: 1px;
  background: linear-gradient(90deg, 
    transparent, 
    rgba(255, 255, 255, 0.3), 
    rgba(255, 255, 255, 0.5),
    rgba(255, 255, 255, 0.3),
    transparent
  );
  border-radius: 50%;
}

/* Volume Slider Styling */
.volume-slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: #e10600;
  cursor: pointer;
  box-shadow: 0 0 10px rgba(225, 6, 0, 0.6);
  transition: all 0.2s ease;
}

.volume-slider::-webkit-slider-thumb:hover {
  transform: scale(1.2);
  box-shadow: 0 0 15px rgba(225, 6, 0, 0.8);
}

.volume-slider::-moz-range-thumb {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: #e10600;
  cursor: pointer;
  border: none;
  box-shadow: 0 0 10px rgba(225, 6, 0, 0.6);
}

.volume-slider::-webkit-slider-runnable-track {
  background: linear-gradient(90deg, rgba(225, 6, 0, 0.5), rgba(255, 255, 255, 0.2));
  border-radius: 4px;
}

/* Scan animation for audio player */
@keyframes scan {
  0% { transform: translateX(-100%); opacity: 0; }
  50% { opacity: 1; }
  100% { transform: translateX(100%); opacity: 0; }
}
